/*! flyer 2017-07-11 */
!function(a){"use strick";var b=function(){this.vision="flyer 0.1"},c=Array.prototype.slice,d=a.location;b.fn=b.prototype={format:function(){var a,b=c.call(arguments),d=b.length;if(d>0){for(var e=1,a=b[0];d>e;e++)a=a.replace(new RegExp("\\{"+e+"\\}","g"),b[e]);return a}return this},formatDate:function(a,b){return a instanceof String?(b=this.getDate(b),a.replace(/yyyy/gi,b.year).replace(/mm/,this.fullTime(b.month)).replace(/dd/gi,this.fullTime(b.day)).replace(/hh/gi,this.fullTime(b.hours)).replace(/MM/,this.fullTime(b.minutes)).replace(/ss/gi,this.fullTime(b.seconds))):(flyer.log("error","format参数未定义..."),!1)},getDate:function(a){return a=a||new Date,{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds()}},fullTime:function(a){return a>=10?a:"0"+a},getQueryString:function(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=d.search.substr(1).match(b);return null!=c?unescape(c[2]):null},escapeHTML:function(a){return"string"==typeof a&&a.length>0?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br/>"):a},unescapeHTML:function(a){return"string"==typeof a&&a.length>0?a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/<br\/>/g,"\n"):a},today:function(){return(new Date).toISOString().replace(/T.+/,"")},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},getFnName:function(a){return/^[\s\(]*function(?:\s+([\w$_][\w\d$_]*))?\(/.exec(a.toString())[1]||""},isEmpty:function(a){var b=[null,"undefined",void 0,"N/A","0",0,"null",!1,"false"];return b.indexOf(a)>0?!1:!0},log:function(a,b){var d=c.call(arguments);1===d.length?(b=a,console.log(b)):d.length>1&&console[a](b)}},b.fn.define=function(a,c){b.fn[a]=c},b.fn.extend=function(a){for(var b in a)this[b]=a[b];return this},window.flyer=new b}(window),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";var d=["flyer-combobox","flyer-combobox-contents","filter-options","fa-angle-down","flyer-combobox-items","flyer-combobox-search","fa-search","selected","open","fa-angle-down","fa-angle-up"],e=(document.body,document,location,function(a,b){return this.init(a,b)});e.DEFAULTS={isMulti:!0,disabled:!1,allowSearch:!0,multipleSeparator:";",fieldKey:"value",required:!0,name:"comboBox",fieldValue:"text",placeholder:"placeholder",searchPlaceholder:"在这里可以快捷搜索到你想找的..",url:"",data:[],selectAll:!0,allowSelectAll:!0,fnDataProcessing:function(){this.data=this.data.rows},fnSelected:function(){return!1},fnBeforeSelected:function(){},fnAfterSelected:function(){}},e.prototype={init:function(a,c){this.options=b.extend(!0,{},e.DEFAULTS,c),this.selector=a,this[0]=b(a),this._data={},this.requestData()},template:function(){var a=this.options,b=this,c=['<div class="flyer-combobox">','<div class="flyer-combobox-contents">','<input type="text" class="filter-options" name="'+a.name+'" required="'+a.required+'" placeholder='+a.placeholder+' readonly="readonly" /><i class="fa fa-angle-down"></i>',"</div>",'<div class="flyer-combobox-items">',a.allowSearch?'<div class="flyer-combobox-search"><input placeholder="'+a.searchPlaceholder+'" type="text"><i class="fa fa-search"></i></div>':"","<ul>",b.allowAllItem()?"<li data-index='-1' data-key='-1' data-value='全部'><div>全部</div></li>":"",b.readerItems(),"</ul>","</div>","</div>"];b.isSelectHtml()?(this[0]=this[0].parent(),this[0].append(c.join(""))):this[0].html(c.join("")),this.$itemContainer=this[0].find("."+d[4]),this.$contents=this[0].find("."+d[1]),this.$items=this.$itemContainer.find("li"),this.$filterOptions=this.$contents.find("."+d[2]).eq(0)},readerItems:function(){for(var a=[],b=this.options,c=b.data,d=0,e=c.length;e>d;d++)a.push("<li data-index="+d+" data-key="+c[d][b.fieldKey]+" data-value="+c[d][b.fieldValue]+"><div>"+c[d][b.fieldValue]+"</div></li>");return a.join("")},requestData:function(){var a=this,c=this.options,d=c.data;0==d.length&&c.url.length>0?b.getJSON(this.options.url,function(b){c.data=b,c.fnDataProcessing(),a.template(),a.initEvents()}):this.isSelectHtml()?(a.readHtmlToData(),a.template(),a.initEvents()):(a.template(),a.initEvents())},isSelectHtml:function(){return"SELECT"===this[0].prop("tagName")},readHtmlToData:function(){var a=this[0].get(0),b=a.children;if(a){a.style.display="none";for(var c=0,d=b.length;d>c;c++){for(var e={},f=0,g=b[c].attributes,h=g.length;h>f;f++)g[f].name.indexOf("data-")>-1&&(e[g[f].name.replace("data-","")]=g[f].value);e[this.options.fieldValue]=b[c].text,this.options.data.push(e)}}},initEvents:function(){var a=this,c=a.options;a.$contents.on("click",function(b){a.$itemContainer.hasClass(d[8])?a.hideItems.call(a):(a.$itemContainer.addClass(d[8]),a.$contents.find("i").removeClass(d[9]).addClass(d[10])),a.stop(b)}),a.$items.each(function(){b(this).on("click",function(e){var f=b(this),g=f.hasClass(d[7])?!0:!1,h={fieldKey:f.data("key"),fieldValue:f.data("value")};"-1"==h.fieldKey&&"全部"==h.fieldValue?a.empty():a.unselectAll(),a.showSelectedItem(h,g),c.fnSelected.call(a,h,this,a._data),c.isMulti||(a.hideItems.call(a),a.$items.removeClass(d[7])),g?f.removeClass(d[7]):f.addClass(d[7]),a.allowAllItem()&&a.checkSelectAll(),a.stop(e)})}),b(document).on("click",function(b){a.hideItems(),a.stop(b)})},allowAllItem:function(){var a=this.options;return a.selectAll&&a.isMulti&&a.data.length>1},stop:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},showSelectedItem:function(a,b){var c=this.options,d=this.$filterOptions.data("key")||"",e=this.$filterOptions.val()||"";c.isMulti?b?(d=String(d).replace(a.fieldKey+c.multipleSeparator,""),e=e.replace(a.fieldValue+c.multipleSeparator,"")):(d=String(d)+a.fieldKey+c.multipleSeparator,e=e+a.fieldValue+c.multipleSeparator):(d=a.fieldKey,e=a.fieldValue),this.$filterOptions.val(e),this.$filterOptions.data("key",d),this._data={fieldKey:d,fieldValue:e}},selectAllItems:function(a){var c=this,e=(this.options,b(a));"select"==e.attr("all")?(this.$items.removeClass(d[7]),e.attr("all","unselect"),c.empty()):(this.$items.each(function(){var a=b(this),e={fieldKey:a.data("key"),fieldValue:a.data("value")};a.addClass(d[7]),"-1"!=e.fieldKey&&c.showSelectedItem(e)}),e.attr("all","select"))},unselectAll:function(){var a=this.$itemContainer.find("[data-index='-1']");a.hasClass(d[7])&&(a.removeClass(d[7]),a.attr("all","select"),this.empty())},checkSelectAll:function(){var a=this.$itemContainer.find("."+d[7]).length,b=this.$itemContainer.find("[data-index='-1']");a==this.options.data.length&&(this.empty(),b.click())},hideItems:function(){this.$itemContainer.removeClass(d[8]),this.$contents.find("i").removeClass(d[10]).addClass(d[9])},filterData:function(){},getSelectedData:function(){return this._data},getSelectedValue:function(){return this._data.fieldKey},getSelectedText:function(){return this._data.fieldValue},setValue:function(a){var b=this.$itemContainer.find("[data-key='"+a.fieldKey+"']");this._data={fieldKey:a.fieldKey,fieldValue:a.fieldValue||b.data("value")},this.$filterOptions.val(this._data.fieldValue),this.$filterOptions.data("key",this._data.fieldKey),b.addClass(d[7])},setValues:function(a){for(var b="",c="",e=this.options,f=0,g=a.length;g>f;f++){var h=this.$itemContainer.find("[data-key='"+a[f].fieldKey+"']");b=b+a[f].fieldKey+e.multipleSeparator,c=c+(a[f].fieldValue||h.data("value"))+e.multipleSeparator,h.addClass(d[7])}this._data={fieldKey:b,fieldValue:c},this.$filterOptions.val(this._data.fieldValue),this.$filterOptions.data("key",this._data.fieldKey)},empty:function(){this._data={fieldKey:"",fieldValue:""},this.$filterOptions.val(this._data.fieldValue),this.$filterOptions.data("key",this._data.fieldKey),this.$items.removeClass(d[7])}},b.fn.combobox=function(a){return this.each(function(){return this.ComboBox=new e(this,a),this})},"object"==typeof flyer&&"function"==typeof flyer.define&&flyer.define("combobox",function(a,b){return new e(a,b)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";function d(a,b){return this.init(a,b)}d.DEFAULTS={ajax:{URL:null,data:null},data:[],curIndex:1,pageIndex:1,pageSize:5,prevText:"<i class='fa fa-caret-left'></i>",nextText:"<i class='fa fa-caret-right'></i>",totalNum:0,pagerLen:5,pageSum:0,isReload:!1,fnBeforeClick:function(){return!1},fnClick:function(){return!1},fnAfterClick:function(){return!1}},d.prototype={init:function(a,b){this.options=this.getOptions(b),this[0]=a,this.render()},render:function(){var a=this,c=a.options;c.ajax;return c.pageSum=Math.ceil(c.totalNum/c.pageSize),c.pageSum<=0?(b(this[0]).empty(),a):(c.pageSum<=c.pagerLen||c.pageSum-c.pagerLen==c.pageIndex?b(this[0]).html(a.simpleTemplate()):b(this[0]).html(a.template()),void a.addEvent())},getOptions:function(a){return b.extend(!0,{},d.DEFAULTS,a)},reload:function(){this.render()},template:function(){var a='<div class="flyer-pager-wrapper"><div class="flyer-pager-view"><ul>',b=this.options,c=Math.floor((b.pagerLen-2)/2),c=0==c?1:c,d=b.curIndex<b.pagerLen?b.pageIndex:b.curIndex-c,e=b.curIndex<b.pagerLen?b.pagerLen:b.curIndex+c;for(b.curIndex+2*c>b.pageSum-1&&(d=b.pageSum-b.pagerLen,e=b.pageSum),a+='<li class="prev">'+b.prevText+"</li>",b.curIndex>=b.pagerLen&&(a+="<li>"+b.pageIndex+"</li>",a+='<li class="omit">...</li>'),d;e>=d;d++)a+=b.curIndex==d?'<li class="active">'+d+"</li>":"<li>"+d+"</li>";return b.curIndex+2*c<=b.pageSum-1&&(a+='<li class="omit">...</li>',a+="<li>"+b.pageSum+"</li>"),a+='<li class="next">'+b.nextText+"</li>",a+="</ul></div></div>"},simpleTemplate:function(){var a='<div class="flyer-pager-wrapper"><div class="flyer-pager-view"><ul>',b=this.options,c=b.pageIndex;for(len=b.pageSum,a+='<li class="prev">'+b.prevText+"</li>",c;c<=len;c++)a+=b.curIndex==c?'<li class="active">'+c+"</li>":"<li>"+c+"</li>";return a+='<li class="next">'+b.nextText+"</li>",a+="</ul></div></div>"},addEvent:function(){var a=this,c=a.options,d=b(a[0]).find(".flyer-pager-view").find("li");d.each(function(){var e=b(this);e.hasClass("omit")||e.on("click",function(){if(e.hasClass("next")){if(c.curIndex>=c.pageSum)return this;c.curIndex++}else if(e.hasClass("prev")){if(c.curIndex<=c.pageIndex)return this;c.curIndex--}else c.curIndex=parseInt(e.text());if(c.curIndex<=c.pageSum){if(a.reload(),e.hasClass("next")||e.hasClass("prev")){var b=d.parent().find(".active");d.removeClass("active"),b.next().addClass("active")}else d.removeClass("active"),e.addClass("active");c.fnClick.call(a)}})})}},b.fn.pager=function(a){return this.each(function(){return this.pager=new d(this,a),this})},"object"==typeof flyer&&"function"==typeof flyer.define&&flyer.define("page",function(a,b){return new d(a,b)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";var d=["flyer-modal","flyer-dialog","flyer-dialog-title","flyer-dialog-toolbar","flyer-close","flyer-dialog-content","flyer-dialog-footer","flyer-btn","flyer-dialog-move"],e=(document.body,document,location,function(a){return this.init(a)});e.DEFAULTS={container:"body",title:"",content:"",isMove:!0,timer:4e3,offset:"auto",fixed:!0,skin:"",area:[],btnAlign:"c",cancel:function(){return!1},showCancelBtn:!0,modalClose:!1,isModal:!1,autoClose:!0,pageUrl:"",anim:"bounceInDown",isOutAnim:!0,btns:[{text:"取消",skin:"",click:function(){this.close()}}]},e.prototype={init:function(a){this.index=(new Date).getTime(),this.options=b.extend(!0,{},e.DEFAULTS,a),this.$container=b(this.options.container),this.template(),this.bindEvents()},bindEvents:function(){var a=this,c=a.options;this.$title.on("mousedown",function(b){a.mousedown(b)}),b(document).mousemove(function(b){a.mousemove(b)}),b(document).mouseup(function(b){a.mouseup(b)}),this.$btnClose.on("click",function(b){c.cancel.call(this),a.close(),b.stopPropagation?b.stopPropagation():b.cancelBubble=!0});for(var d=0,e=c.btns,f=a.$btns,g=this.$btns.length;g>d;d++)!function(c,d){b(c).on("click",function(){d.click.call(a,c)})}(f[d],e[d])},template:function(){var a=this.options;this.selector=d[1]+this.index,this.modalSelector=d[0]+this.selector;var c=['<div id="'+this.modalSelector+'" class="'+d[0]+'"></div>','<div id="'+this.selector+'" class="'+d[1]+(a.skin.length>0?" "+a.skin:"")+(a.anim.length&&a.isOutAnim>0?" "+a.anim:"")+'">','<div class="'+d[2]+(a.isMove?" flyer-move":"")+'">',"<h4> ",a.title,"</h4>","</div>",'<div class="'+d[3]+'">',a.showCancelBtn?'<i class="'+d[4]+'">x</i>':"","</div>",'<div class="'+d[5]+'">',a.content,"</div>",'<div class="'+d[6]+'">',this.builderBtn(),"</div>","</div>"];a.isModal||c.splice(0,1),this.$container.append(c.join("")),this.$el=b("#"+this.selector),this.$title=this.$el.find("."+d[2]),this.$content=this.$el.find("."+d[5]),this.$footer=this.$el.find("."+d[6]),this.$toolbar=this.$el.find("."+d[3]),this.$btnClose=this.$el.find("."+d[4]),this.$btns=this.$el.find("."+d[7]),this.$modal=b("#"+this.modalSelector),this.handtailor(),this.setOffset()},handtailor:function(){var a=this.options,b=this;switch(a.modalClose&&a.isModal&&b.$modal.on("click",function(){b.close()}),0===a.title.length&&this.$title.remove(),a.area.length>1&&this.$content.css({width:a.area[0],height:a.area[1]}),a.offset instanceof Array&&a.offset.length>1&&this.$el.css({top:a.offset[0],left:a.offset[1]}),a.fixed&&this.$el.css("position","fixed"),a.btnAlign){case"c":this.$footer.css("text-align","center");break;case"r":this.$footer.css("text-align","right");break;case"l":this.$footer.css("text-align","left")}},mousedown:function(a){var c=this.options;b("#"+this.selector).find("."+d[2]);this.isMove="undefined"!=typeof c&&"undefined"!=typeof c.isMove?c.isMove:!0,this.isMove&&(this.offsetX=a.offsetX,this.offsetY=a.offsetY,this.$el.data("position",this.$el.css("position")),this.$el.css({position:"absolute",top:parseInt(this.$el.css("top"))+parseInt(this.getScrollTop())}),document.body.onselectstart=function(){return!1})},mousemove:function(a){if(this.isMove){var b=a.clientX-this.offsetX,c=a.clientY-this.offsetY+parseInt(this.getScrollTop());this.$el.css({top:c,left:b})}},mouseup:function(){this.isMove&&(this.isMove=!1,this.$el.css({position:this.$el.data("position"),top:parseInt(this.$el.css("top"))-parseInt(this.getScrollTop())}),document.body.onselectstart=function(){return!0})},builderBtn:function(){for(var a=this.options,b=a.btns,c=[],e=0,f=b.length;f>e;e++)c.push('<button class="'+d[7]+" "+b[e].skin+'">'+b[e].text+"</button>");return c.join("")},close:function(){this.$el.remove(),this.$modal.remove()},setOffset:function(){var a=this;switch(a.options.offset){case"auto":var b=this.getOffset(a.$el.get(0));a.$el.css({top:String(b.y)+"px",left:String(b.x)+"px"})}},getScrollTop:function(){var a=document.documentElement.scrollTop;return 0==a&&(a=document.body.scrollTop),a},getOffset:function(c){try{var d="body",e=b(d).width(),f=a.screen.height,g="undefined"!=typeof c?c.offsetWidth:0,h="undefined"!=typeof c?c.offsetHeight:0;return{x:e/2-g/2,y:f/2-h/2,w:d.offsetWidth,h:d.clientHeight}}catch(i){}}};var f={alert:function(a,b){b=b||{},b.content=a,b.title=b.title||"提示",b.skin=b.skin||"flyer-dialog-alert";var c=new e(b);return c},confirm:function(a,c,d){d=b.extend({btns:[{text:"确定",skin:"flyer-btn-blue",click:function(a){this.close(),"function"==typeof c&&c.call(this,a,!0)}},{text:"取消",skin:"",click:function(a){this.close(),"function"==typeof c&&c.call(this,a,!1)}}]},d),d.content=a,d.skin=d.skin||"flyer-dialog-confirm";var f=new e(d);return f},open:function(a){a.skin=a.skin||"flyer-dialog-open";var b=new e(a);return b.options.pageUrl.length>0&&(b.$content.load(b.options.pageUrl),b.setOffset()),b},msg:function(a,b){b=b||{},b.content=a,b.showCancelBtn="undefined"!=typeof b.showCancelBtn?b.showCancelBtn:!1,b.autoClose="undefined"!=typeof b.autoClose?b.autoClose:!0,b.anim=b.anim||"bounceIn",b.skin=b.skin||"flyer-dialog-msg";var c=new e(b);return c.$title.remove(),c.$footer.remove(),b.autoClose&&setTimeout(function(){c.close()},c.options.timer),c},tip:function(a,b){b=b||{},b.skin=b.skin||"flyer-dialog-tip",b.anim=b.anim||"bounceInDown",b.offset=b.offset||[0,0];var c=f.msg(a,b);return c},closeAll:function(a){if("undefined"==typeof a)b("."+d[1]).remove(),b("."+d[0]).remove();else switch(a){case"alert":b(".flyer-dialog-alert").remove();break;case"confirm":b(".flyer-dialog-confirm").remove();break;case"open":b(".flyer-dialog-open").remove();break;case"msg":b(".flyer-dialog-msg").remove();break;case"tip":b(".flyer-dialog-tip").remove()}}};"object"==typeof flyer&&"function"==typeof flyer.extend&&flyer.extend(f)}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a,b)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";var d=function(a,b){return this.init(a,b)};d.DEFAULTS={},d.prototype={init:function(a,c){this.options=b.extend(!0,{},d.DEFAULTS,c)}},b.fn.edit=function(a){return this.each(function(){return this.Edit=new d(this,a),this})},"object"==typeof flyer&&"function"==typeof flyer.define&&flyer.define("edit",function(a,b){return new d(a,b)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a,b)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";var d=function(a,b){return this.init(a,b)};d.DEFAULTS={minDate:"1977-01-01",maxDate:"2099-12-31",startDate:new Date,isSure:!0,isClear:!0,isToday:!0,isTime:!0,festival:!0,format:"yyyy-mm-dd HH:MM:SS",isPrecision:!1,click:function(){return!1},choose:function(){return!1}},d.prototype={init:function(a,c){this.options=b.extend(!0,{},d.DEFAULTS,c),this.selector=this.isJQuery(a)?a:b(a),this._date=this.getYMD(this.selector.val()),this.initEvent()},refresh:function(){this.template(),this.events(),this.isPickerBtnStatus()},i18n:{},template:function(){var a=this._date,c=this.options,d=['<div class="flyer-date" id="flyer-date-'+this.selector.attr("id")+'">','<div class="flyer-date-header">','<div class="flyer-date-year">','<button class="prev"></button>','<input type="text" class="flyer-year" value="'+a.year+'" readonly="true" />','<button class="more"></button>','<button class="next"></button>','<div class="flyer-date-yearMore">','<div class="prev-more"></div>','<div class="years">',this.initYears(),"</div>",'<div class="next-more"></div>',"</div>","</div>",'<div class="flyer-date-month">','<button class="prev"></button>','<input type="text" class="flyer-month" value="'+a.month+'" readonly="true" />','<button class="more"></button>','<button class="next"></button>','<div class="flyer-date-monthMore">',this.initMonths(),"</div>","</div>","</div>",'<div class="flyer-date-body">',"<table>","<thead>","<tr>","<th>日</th>","<th>一</th>","<th>二</th>","<th>三</th>","<th>四</th>","<th>五</th>","<th>六</th>","</tr>","</thead>","<tbody>",this.initDays(),"</tbody>","<tfoot></tfoot>","</table>","</div>",'<div class="flyer-date-footer">',c.isTime?this.initHMS():"",'<div class="flyer-date-btn">',c.isClear?'<button class="flyer-clear">清空</button>':"",c.isToday?'<button class="flyer-today">今天</button>':"",c.isSure?'<button class="flyer-confirm">确认</button>':"","</div>","</div>","</div>"];this.container?(d.splice(0,1),d.splice(d.length-1,1),this.container.html(d.join(""))):b("body").append(d.join("")),this.container=b("#flyer-date-"+this.selector.attr("id")),this.$header=this.container.find(".flyer-date-header"),this.$headerYear=this.$header.find(".flyer-date-year"),this.$headerMonth=this.$header.find(".flyer-date-month"),this.$body=this.container.find(".flyer-date-body"),this.$footer=this.container.find(".flyer-date-footer"),this.$footerTime=this.$footer.find(".flyer-date-time"),this.$footerBts=this.$footer.find(".flyer-date-btn")},initYears:function(a){for(var b=[],c=parseInt(a||this._date.year),d=c-4;c+8>d;d++)b.push("<span class='"+(this.isEffectiveDateForYear(d)?"":"flyer-dont-select")+"' month='"+d+"'>"+d+"</span>");return b.join("")},initMonths:function(){for(var a=[],b=1;12>=b;b++)a.push("<span class='"+(this.ifEffectiveDateForMonth(b)?"":"flyer-dont-select")+"' month='"+b+"'>"+this.justShowText(b)+"</span>");return a.join("")},initHMS:function(){var a=['<div class="flyer-date-time">',"<label>时间</label>",'<span class="hour">'+this._date.hours+"</span>:",'<span class="minute">'+this._date.minutes+"</span>:",'<span class="second">'+this._date.second+"</span>",this.initHours(),this.initMinutes(),this.initSeconds(),"</div>"];return a.join("")},initDays:function(){for(var a=[],b=this.getStart(),c=(this.getEnd(),this._date),d=this.getMonthDays(c.month,c.year),e=!1,f=d+b,g=1,h=1,i=0;f>=g;g++)0==i&&a.push("<tr>"),i==b&&(e=!0),h>d&&(e=!1),e?(a.push("<td class='"+(h==parseInt(this._date.day)?"flyer-today ":"")+(this.isEffectiveDate(h)?"":"flyer-dont-select")+"'>"+h+"</td>"),h++):a.push("<td class='flyer-dont-select'>&nbsp;</td>"),i++,7==i&&(a.push("</tr>"),i=0);return a.join("")},isEffectiveDate:function(a,b,c){a=a||this._date.day,b=b||this._date.month,c=c||this._date.year;var d=new Date(this.precisionFormat(a,b,c)),e=new Date(this.minDate||this.options.minDate),f=new Date(this.maxDate||this.options.maxDate),g=d;return f>=g&&g>=e},precisionFormat:function(a,b,c){var d=this._date.hours,e=this._date.minutes,f=this._date.second;return this.options.isPrecision?c+"/"+b+"/"+a+" "+d+":"+e+":"+f:c+"/"+b+"/"+a},isEffectiveDateForYear:function(a){var b=new Date(this.minDate||this.options.minDate),c=new Date(this.maxDate||this.options.maxDate);return a<=c.getFullYear()&&a>=b.getFullYear()},ifEffectiveDateForMonth:function(a){a=a||this._date.month,year=this._date.year;var b=new Date(year+"/"+a+"/01"),c=new Date(this.minDate||this.options.minDate),d=new Date(this.maxDate||this.options.maxDate),e=new Date(c.getFullYear()+"/"+(c.getMonth()+1)+"/01"),f=new Date(d.getFullYear()+"/"+(d.getMonth()+1)+"/01");return f>=b&&b>=e},isEffectiveForDate:function(a){var b=new Date(this.minDate||this.options.minDate),c=new Date(this.maxDate||this.options.maxDate),d=new Date(a);return c>=d&&d>=b},isPickerBtnStatus:function(){this.isEffectiveForDate(new Date)?this.$footerBts.find(".flyer-today").removeClass("flyer-dont-select"):this.$footerBts.find(".flyer-today").addClass("flyer-dont-select"),this.isEffectiveForDate(this.formatDate())?this.$footerBts.find(".flyer-confirm").removeClass("flyer-dont-select"):this.$footerBts.find(".flyer-confirm").addClass("flyer-dont-select")},initHours:function(){var a=this;return['<div class="flyer-date-hours">','<div class="flyer-date-minTool">小时<span>x</span></div>','<div class="flyer-hours">',function(){for(var b=[],c=1;24>c;c++)b.push("<span>"+a.justShowText(c)+"</span>");return b.join("")}(),"</div>","</div>"].join("")},initMinutes:function(){var a=this;return['<div class="flyer-date-minutes">','<div class="flyer-date-minTool">分钟<span>x</span></div>','<div class="flyer-minutes">',function(){for(var b=[],c=1;60>c;c++)b.push("<span>"+a.justShowText(c)+"</span>");return b.join("")}(),"</div>","</div>"].join("")},initSeconds:function(){var a=this;return['<div class="flyer-date-seconds">','<div class="flyer-date-minTool">秒数<span>x</span></div>','<div class="flyer-seconds">',function(){for(var b=[],c=1;60>c;c++)b.push("<span>"+a.justShowText(c)+"</span>");return b.join("")}(),"</div>","</div>"].join("")},isLeapYear:function(a){return a%4==0&&a%100!=0||a%400==0?!0:!1},getYMD:function(a){var b=new Date(a||this.options.startDate);return{year:b.getFullYear(),month:this.justShowText(b.getMonth()+1),day:this.justShowText(b.getDate()),hours:this.justShowText(b.getHours()),minutes:this.justShowText(b.getMinutes()),second:this.justShowText(b.getSeconds())}},justShowText:function(a){return a>=10?a:"0"+a},getMonthDays:function(a,b){switch(parseInt(a)){case 2:return this.isLeapYear(b)?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},getDay:function(a){return new Date(a).getDay()},getStart:function(){var a=this._date;return this.getDay(a.year+"/"+a.month+"/01")},getEnd:function(){var a=this._date;return this.getDay(a.year+"/"+a.month+"/"+this.getMonthDays(a.month,a.year))},formatDate:function(){return this.options.format.replace(/yyyy/gi,this._date.year).replace(/mm/,this._date.month).replace(/dd/gi,this._date.day).replace(/hh/gi,this._date.hours).replace(/MM/,this._date.minutes).replace(/ss/gi,this._date.second)},stop:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},close:function(){this.container.css({display:"none"})},closeAll:function(){b(".flyer-date").hide()},setMaxDate:function(a){this.maxDate=a},setMinDate:function(a){this.minDate=a},targetIsShow:function(a){a.hasClass("flyer-date-show")?a.removeClass("flyer-date-show"):a.addClass("flyer-date-show")},isJQuery:function(a){return a instanceof jQuery},initEvent:function(){var a=this;this.selector.on("click",function(c){a.closeAll(),a.refresh();var d=b("#flyer-date-"+a.selector.attr("id")),e=a.selector.offset();d.css({top:e.top+a.selector[0].offsetHeight+"px",left:e.left+"px",display:"block"}),a.stop(c)})},events:function(){var a=this;this.$headerYear.on("click",".more,.flyer-year",function(){var c=b(this).parent().find(".flyer-date-yearMore");a.targetIsShow(c)}),this.$headerMonth.on("click",".more,.flyer-month",function(){var c=b(this).parent().find(".flyer-date-monthMore");a.targetIsShow(c)}),this.$headerYear.on("click",".next,.prev",function(){var c=b(this).hasClass("next");a._date.year=c?parseInt(a._date.year)+1:parseInt(a._date.year)-1,a.refresh()}),this.$headerMonth.on("click",".next,.prev",function(){var c=b(this).hasClass("next");c?parseInt(a._date.month)<12&&(a._date.month=a.justShowText(parseInt(a._date.month)+1)):parseInt(a._date.month)>1&&(a._date.month=a.justShowText(parseInt(a._date.month)-1)),a.refresh()}),this.$headerMonth.on("click",".flyer-date-monthMore span:not([class='flyer-dont-select'])",function(){a._date.month=b(this).text(),a.refresh()}),this.$headerYear.on("click",".flyer-date-yearMore span:not([class='flyer-dont-select'])",function(){a._date.year=b(this).text(),a.refresh()}),this.$headerYear.on("click",".prev-more,.next-more",function(){var c=b(this).hasClass("next-more");c?a.$headerYear.find(".years").html(a.initYears(a.$headerYear.find(".flyer-date-yearMore span").last(0).text())):a.$headerYear.find(".years").html(a.initYears(a.$headerYear.find(".flyer-date-yearMore span").eq(0).text()))}),this.$body.find("td:not([class='flyer-dont-select'])").off("click"),this.$body.on("click","td:not([class='flyer-dont-select'])",function(){b(this).hasClass("flyer-dont-select")||(a._date.day=a.justShowText(b(this).text()),a.options.click.call(this,a.formatDate(),a._date),a.selector.val(a.formatDate()),a.options.choose.call(this,a.formatDate(),a._date),a.close())}),this.$footerTime.on("click",".hour,.flyer-date-hours .flyer-date-minTool span",function(){var b=a.$footerTime.find(".flyer-date-hours");a.targetIsShow(b)}),this.$footerTime.on("click",".flyer-date-hours .flyer-hours span",function(){var c=a.$footerTime.find(".flyer-date-hours");a.targetIsShow(c),a.$footerTime.find(".hour").html(b(this).text()),a._date.hours=b(this).text(),a.refresh()}),this.$footerTime.on("click",".minute,.flyer-date-minutes .flyer-date-minTool span",function(){var b=a.$footerTime.find(".flyer-date-minutes");a.targetIsShow(b)}),this.$footerTime.on("click",".flyer-date-minutes .flyer-minutes span",function(){var c=a.$footerTime.find(".flyer-date-minutes");a.targetIsShow(c),a.$footerTime.find(".minute").html(b(this).text()),a._date.minutes=b(this).text(),a.refresh()}),this.$footerTime.on("click",".second,.flyer-date-seconds .flyer-date-minTool span",function(){var b=a.$footerTime.find(".flyer-date-seconds");a.targetIsShow(b)}),this.$footerTime.on("click",".flyer-date-seconds .flyer-seconds span",function(){var c=a.$footerTime.find(".flyer-date-seconds");a.targetIsShow(c),a.$footerTime.find(".second").html(b(this).text()),a._date.second=b(this).text(),a.refresh()}),this.$footerBts.on("click",".flyer-clear",function(){a.selector.val(""),a._date=a.getYMD(),a.close()}),this.$footerBts.on("click",".flyer-today",function(){a._date=a.getYMD(new Date),a.options.click.call(this,a.formatDate(),a._date),a.selector.val(a.formatDate()),a.options.choose.call(this,a.formatDate(),a._date),a.close()}),this.$footerBts.on("click",".flyer-confirm",function(){a.options.click.call(this,a.formatDate(),a._date),a.selector.val(a.formatDate()),a.options.choose.call(this,a.formatDate(),a._date),a.close()}),b(this.container).on("click",function(b){a.stop(b)}),b(document).on("click",function(b){a.close()})}},b.fn.date=function(a){return this.each(function(){return this.Datepicker=new d(this,a),this})},"object"==typeof flyer&&"function"==typeof flyer.define&&flyer.define("date",function(a,b){return new d(a,b)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a,b)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";var d=function(a,b,c){return this.init(a,b,c)};d.DEFAULTS={rules:{},messages:{},submit:".submit",isFormSumbit:!1},d.prototype={init:function(a,c,e){this.options=b.extend(!0,{},d.DEFAULTS,c),this.formElm=a,this.formElm.attr("novalidate","true"),this.getValidData(),this.errorMsg={},this.initEvent(e)},initEvent:function(a){var c=this;b(this.formElm).find(this.options.submit).on("click",function(b){try{c.submit(b,a)}catch(d){console.error(d),b.preventDefault()}})},elements:function(){return b(this.formElm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled")},elementValue:function(a){var c,d=b(a);a.type;return c=this.checkable(a.type)?b(this.formElm).find("[name='"+a.name+"']").filter(":checked").val():d.val()},attributeRules:function(a){var b={};for(var c in this.methods){var d=a.getAttribute(c);d&&(b[c]=d)}return b},getValidData:function(){for(var a=0,b=this.elements(),c=this.options.rules,d=b.length;d>a;a++){var e=b[a].name,f=this.attributeRules(b[a]);e.length>0&&!this.isEmptyObject(f)&&(c[e]=f)}},formCheck:function(){for(var a=0,b=this.elements(),c=(this.options.rules,b.length);c>a;a++){var d=b[a].name;if(!this.check(b[a]))return this.showError(d,b[a]),!1}return!0},getElementRulesByName:function(a){return this.options.rules[a]},check:function(a){var b=this.elementValue(a),c=a.name,d=this.getElementRulesByName(c),e=!0;this.errorMsg[c]=[];for(var f in d)this.methods[f].call(this,b,a,d[f])||(e=!1,this.errorMsg[c].push(this.defaultMessage(this.messages[f],d[f])));return e},format:function(a,c){return 1===arguments.length?function(){var c=b.makeArray(arguments);return c.unshift(a),b.validator.format.apply(this,c)}:void 0===c?a:(arguments.length>2&&c.constructor!==Array&&(c=b.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),b.each(c,function(b,c){a=a.replace(new RegExp("\\{"+b+"\\}","g"),function(){return c})}),a)},messages:{required:"必选字段",remote:"请修正该字段",email:"请输入正确格式的电子邮件",url:"请输入合法的网址",
date:"请输入合法的日期",dateISO:"请输入合法的日期 (ISO).",number:"请输入合法的数字",digits:"只能输入整数",creditcard:"请输入合法的信用卡号",equalTo:"请再次输入相同的值",accept:"请输入拥有合法后缀名的字符串",maxlength:"请输入一个长度最多是 {0} 的字符串",minlength:"请输入一个长度最少是 {0} 的字符串",rangelength:"请输入一个长度介于 {0} 和 {1} 之间的字符串",range:"请输入一个介于 {0} 和 {1} 之间的值",max:"请输入一个最大为 {0} 的值",min:"请输入一个最小为 {0} 的值"},defaultMessage:function(a,b){var c=/\$?\{(\d+)\}/g;return c.test(a)&&(a=this.format(a,b)),a},addMethods:function(a,b,c){this.methods[a]=mehthod,this.messages[a]="undefined"!=typeof c?c:this.message[a]},checkable:function(a){return/radio|checkbox/i.test(a.type)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},optional:function(a){var b=this.elementValue(a);return!this.methods.required.call(this,b,a)&&"dependency-mismatch"},findByName:function(a){return b(this.formElm).find("[name='"+a+"']")},getLength:function(a,c){switch(c.nodeName.toLowerCase()){case"select":return b("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return a.length},methods:{required:function(a,c,d){if(!d)return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=b(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(a,c)>0:a.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(a,c,d){var e=b.isArray(a)?a.length:this.getLength(a,c);return this.optional(c)||e>=d},maxlength:function(a,c,d){var e=b.isArray(a)?a.length:this.getLength(a,c);return this.optional(c)||d>=e},rangelength:function(a,c,d){var e=b.isArray(a)?a.length:this.getLength(a,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(a,b,c){},equalTo:function(a,b,c){var d=this.formElm.find("[name='"+c+"']");return a===d.val()},remote:function(a,b,c,d){}},submit:function(a,b){this.elements().removeClass("flyer-form-error"),this.formElm.find(".flyer-form-error").removeClass("flyer-form-error"),this.formCheck()?this.options.isFormSumbit?this.formElm.submit():("function"==typeof b&&b.call(this),a.preventDefault()):a.preventDefault()},showError:function(a,c){if(flyer&&flyer.msg){flyer.closeAll("msg");for(var d="",e=0,f=this.errorMsg[a],g=f.length;g>e;e++)d+=f[e]+"</br>";flyer.msg(d)}var h=b(c);h.hasClass("filter-options")?h.parent().addClass("flyer-form-error"):this.checkable(c)?/radio/i.test(c.type)?this.findByName(a).next().addClass("flyer-form-error"):this.findByName(a).parent().addClass("flyer-form-error"):h.addClass("flyer-form-error"),h.focus()},getData:function(){for(var a=[],b=0,c=this.elements(),d=c.length;d>b;b++)a.push(JSON.parse('{"'+c[b].name+'":"'+this.elementValue(c[b])+'"}'));return a}},b.fn.form=function(a,b){return this.each(function(){return this.Form=new d(this,a,b),this})},"object"==typeof flyer&&"function"==typeof flyer.define&&flyer.define("form",function(a,b,c){return new d(a,b,c)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";function d(a,b){return this.init(a,b)}var e=["flyer-searches","keywords","flyer-seraches-input","fa fa-close","flyer-combobox-items","hover"];d.DEFAULT={isMulti:!0,url:"",searchName:"",fieldValue:"",fieldName:"",requestData:[],spaceTime:1e3,separtor:";",distinck:!0,emptyMsg:"未检索到相关的数据..",fnDistinckTips:function(a,c){flyer.closeAll("msg"),flyer.msg("你已经选择了[ "+b(c).text()+" ]")},fnDataProcessing:function(){this._data=this._data.rows},fnSelected:function(){return!1}},d.prototype={init:function(a,c){this.options=b.extend(!0,{},d.DEFAULT,c),this[0]=a,b(this[0]).html(this.template()),this.events()},template:function(){var a=['<div class="flyer-searches">','<div class="keywords"></div>','<input type="text" data-selected="" class="flyer-seraches-input" />','<div class="flyer-combobox-items">',"<ul>","</ul>","</div>","</div>"];return a.join("")},requestData:function(a){var c=this,d=c.options,e={};"function"==typeof d.requestData?d.requestData.call(this,a):(e[d.searchName]=a,b.ajax({url:d.url,type:"get",data:e,success:function(a){c._data=a,d.fnDataProcessing.call(c,a),c.render(a),c.eventSelected()}}))},events:function(){var a=this,c=a.options,d=null;a.keyIndex=-1,a.$input=b(a[0]).find("."+e[2]),a.$keywords=b(a[0]).find("."+e[1]),a.$items=b(a[0]).find("."+e[4]).find("ul"),a.$input.on("keyup",function(f){d&&clearInterval(d);var g=b(this).val().trim();switch(f.keyCode){case 13:var h=a.$items.parent().css("display");return void(g.length>0&&"none"==h?a.requestData(g):(a.$items.find("."+e[5]).click(),a.$items.find("li").removeClass(e[5])));case 8:return a.$items.parent().hide(),0!=this.value.length?!1:void("del"==this.getAttribute("del")?setTimeout(function(){a.$keywords.find("span>i").last().click()},100):(this.setAttribute("del","del"),a.$keywords.find("span").last().css("border","1px solid #F7B824")));case 38:return void a.keyUp();case 40:return void a.keyDown();default:a.$items.parent().hide(),this.setAttribute("del",null),a.$keywords.find("span").last().css("border","inherit")}d=setTimeout(function(){g.length>0&&a.requestData(g)},c.spaceTime)}),b(document).on("click",function(b){a.$items.parent().hide(),b.stopPropagation?b.stopPropagation():b.cancelBubble=!0})},eventSelected:function(){var a=this,c=a.options;a.$items.find("li").on("click",function(){var d=b(this).data("key");if(c.distinck&&a.hasValue(d))return c.fnDistinckTips.call(a,d,this),!1;a.$keywords.append(a.insertSpan.call(this,c)),a.$items.parent().hide();var e=a.$input.data("selected")||"";a.$input.data("selected",e+d+";"),a.$input.val(""),a.eventDeleteSpan(),c.fnSelected.call(a,this),setTimeout(function(){a.$input.css("padding-left",a.$keywords.get(0).offsetWidth+10)},10),a.keyIndex=0})},insertSpan:function(a){var c=b(this),d="<span data-key='"+c.data("key")+"'>"+b(this).text()+a.separtor+"<i class='"+e[3]+"'></i></span>";return d},eventDeleteSpan:function(){var a=this,c=this.$input,d=this.options;a.$keywords.find("span>i").on("click",function(){var e=a.$input.data("selected")||"";c.data("selected",e.replace(b(this).parent().data("key")+d.separtor,"")),b(this).parent().remove(),a.$input.css("padding-left",a.$keywords.get(0).offsetWidth),c.attr("del",null),d.fnSelected.call(a,this)})},render:function(){var a=this._data,b=[],c=this.options;if(a&&0!=a.length)for(var d=0,e=a.length;e>d;d++)b.push("<li data-key='"+a[d][c.fieldValue]+"'><div>"+a[d][c.fieldName]+"</div></li>");else b.push("<li><div>"+c.emptyMsg+"</div></li>");this.$items.html(b.join("")),this.$items.parent().show()},keyUp:function(){var a=this,b=a.$items.find("li").length;a.$items.find("li").removeClass(e[5]),-1==a.keyIndex&&(a.keyIndex=b),a.keyIndex--,a.$items.find("li").eq(a.keyIndex).addClass(e[5])},keyDown:function(){var a=this,b=a.$items.find("li").length;a.$items.find("li").removeClass(e[5]),a.keyIndex++,a.keyIndex==b&&(a.keyIndex=0),a.$items.find("li").eq(a.keyIndex).addClass(e[5])},hasValue:function(a){var b=this.$input.data("selected"),c=new RegExp(a,"ig");return c.test(b)},getSelectedData:function(){return{fieldValue:this.$input.data("selected"),fieldName:this.$keywords.find("span").text()}}},b.fn.searches=function(a){return this.each(function(){return this.searches=new d(this,a),this})},flyer.define("searches",function(a,b){return new d(a,b)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";function d(a,b){return this.init(a,b)}var e=["flyer-tab","flyer-tab-title","flyer-tab-content","flyer-tab-active","flyer-tab-item","active"];d.DEFAULT={tabs:[{title:"tab1",content:"",url:"",cache:!1},{title:"tab2",content:"",url:"",cache:!1}],defaultIndex:0,skin:"flyer-tab-default",beforeClick:function(){return!1},click:function(){return!1},afetrClick:function(){return!1},beforeCreated:function(){return!1},afterCreated:function(){return!1}},d.prototype={init:function(a,c){this.options=b.extend(!0,{},d.DEFAULT,c),this[0]=a;var e=this.options,f=e.beforeCreated,g=e.afterCreated;f.call(this,e),this.hasTag(),this.haveTag||b(this[0]).html(this.template()),this.events(),g.call(this,e),this.$tabs.eq(e.defaultIndex).click()},hasTag:function(){b(this[0]).find("."+e[0]).length>0?this.haveTag=!0:this.haveTag=!1},template:function(){for(var a=this.options,b=[],c=[],d=['<div class="'+e[0]+(a.skin.length>0?" "+a.skin:"")+'">','<div class="'+e[1]+'">',"<ul>","</ul>","</div>",'<div class="'+e[2]+'">',"</div>","</div>"],f="",g=0,h=a.tabs.length,i=a.tabs;h>g;g++)b.push("<li data-index='"+g+"'>"+i[g].title+"</li>"),c.push("<div class='"+e[4]+"'></div>");return d.splice(3,0,b.join("")),d.splice(7,0,c.join("")),f=d.join("")},events:function(){var a=this,c=this.options;a.$title=b(this[0]).find("."+e[1]),a.$content=b(this[0]).find("."+e[2]),a.$tabs=this.$title.find("li"),a.$tabs.on("click",function(){var d=b(this),f=b(this).data("index");a.$tabs.removeClass(e[3]),d.addClass(e[3]),a.haveTag?a.showContent(f):a.fullContent(f),c.click.call(a,this)})},fullContent:function(a){var b=this.options.tabs[a],c=(this.$content,this.$content.find("."+e[4])),d=c.eq(a),f="";return 0==d.length?!1:(f=d.text(),c.removeClass(e[5]),b.content?b.cache&&0!=f.length||d.html(b.content):b.url&&(b.cache&&0!=f.length||d.load(b.url)),void d.addClass(e[5]))},showContent:function(a){var b=this.$content.find("."+e[4]),c=b.eq(a);return 0==c.length?!1:(b.removeClass(e[5]),void c.addClass(e[5]))}},b.fn.tab=function(a){return this.each(function(){return this.tab=new d(this,a),this})},flyer.define("tab",function(a,b){return new d(a,b)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a,b)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";var d=function(a,b){return this.init(a,b)};d.DEFAULTS={columns:[],data:[],resizer:!1},d.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,styles:{},className:void 0,sortable:!1,order:"asc",visible:!0,formatter:void 0,sorter:void 0,sortName:void 0},d.prototype={init:function(a,c){this.options=b.extend(!0,{},d.DEFAULTS,c),this.selector=a,this.template(),this.initHeaderThemes(),this.initEvents(),this.options.resizer&&this.initRgrips()},template:function(){var a=['<div class="flyer-table-wrapper"><table class="flyer-table">',"<thead>","<tr>",this.initHeader(),"</tr>","</thead>","<tbody>",this.initBody(),"</tbody>","<tfoot>","</tfoot>","</table></div>"];this.selector.html(a.join("")),this.$header=this.selector.find("thead"),this.$body=this.selector.find("tbody")},initHeaderThemes:function(){var a=this,c=(a.options,a._flagColumns);this.$header.find("th").each(function(){var a=b(this),d=a.data("index");a.css(c[d].styles),a.addClass(c[d].className)})},initHeader:function(){var a=[];this._flagColumns={};for(var c=0,e=this.options.columns,f=e.length;f>c;c++){this.options.columns[c]=b.extend(!0,{},d.COLUMN_DEFAULTS,e[c]);var g=e[c];g._index=c,this._flagColumns[c]=g,g.visible&&(g.checkbox?a.push("<th data-index="+g._index+"><input name='"+g.field+"' type='checkbox'/></th>"):g.radio?a.push("<th data-index="+g._index+"><input name='"+g.field+"' type='radio'/></th>"):a.push("<th data-index="+g._index+">"+g.title+"</th>"))}return a.join("")},initBody:function(){for(var a=[],b=0,c=this.options.data,d=c.length;d>b;b++){var e=[];a.push("<tr>");for(var f=0,g=this.options.columns,h=g.length;h>f;f++){var i=g[f];i.visible&&(i.checkbox?a.push("<td data-index="+i._index+">"+("function"==typeof i.formatter?i.formatter(c[b],c[b][i.field]):"<input name='"+i.field+"' type='checkbox'/>")+"</td>"):i.radio?a.push("<td data-index="+i._index+">"+("function"==typeof i.formatter?i.formatter(c[b],c[b][i.field]):"<input name='"+i.field+"' type='radio'/>")+"</td>"):e.push("<td>"+("function"==typeof i.formatter?i.formatter(c[b],c[b][i.field]):c[b][i.field])+"</td>"))}a.push(e.join("")),a.push("</tr>")}return a.join("")},initFooter:function(){},initEvents:function(){this.checkAll()},checkAll:function(){var a=this;a.$header.find("input[type='checkbox']").on("click",function(){var b=this;a.selector.find("input[name='"+b.name+"']").each(function(){this.checked=b.checked})})},columnResizer:function(a){var c=this,d=b(".flyer-rgrips").find(".flyer-rgrips-resizer"),e=this.selector.find(".flyer-table"),f=e.offset().left,g=e.width();c.ismove=!1,d.bind("mousedown",function(a){document.body.onselectstart=function(){return!1},c.ismove=!0,c.rgripElm=b(this),c.rgripElmLeft=parseInt(c.rgripElm.css("left")||0),c.rgripNext=c.rgripElm.next(),c.rgripPrev=c.rgripElm.prev(),c.rgripNextLeft=parseInt(c.rgripNext.css("left")||0),c.rgripPrevLeft=parseInt(c.rgripPrev.css("left")||0),c.rgripTh=c.$header.find("th[data-index='"+c.rgripElm.data("index")+"']"),c.rgripNextTh=c.rgripTh.next(),c.rgripPrevTh=c.rgripTh.prev(),c.rgripElm.addClass("flyer-rgrips-drag"),e.addClass("user-select-none")}),b(document).mousemove(function(a){if(c.ismove){var b=c.rgripElm.get(0).offsetWidth+a.clientX-f;0>b?b=0:b>g?b=g:b>c.rgripNextLeft?b=c.rgripNextLeft:b<c.rgripPrevLeft&&(b=c.rgripPrevLeft),c.rgripElm.css("left",b)}}),b(document).mouseup(function(a){document.body.onselectstart=function(){return!0},c.ismove&&(c.ismove=!1,c.dragWidth=c.rgripElmLeft-parseInt(c.rgripElm.css("left")),c.dragValue=parseInt(String(c.dragWidth).replace("-","")),c.dragWidth<0?(c.rgripNext.css("left",c.rgripNextLeft-c.dragValue),c.rgripTh.css("width",parseInt(c.rgripTh.css("width"))+c.dragValue)):c.dragWidth>0&&(c.rgripPrev.css("left",c.rgripPrev-c.dragValue),c.rgripTh.css("width",parseInt(c.rgripTh.css("width"))-c.dragValue)),c.rgripElm.removeClass("flyer-rgrips-drag"),e.removeClass("user-select-none"))})},initRgrips:function(){var a=[],c=this.selector.find(".flyer-table"),d=c.width(),e=c.height(),f=c.offset().left;a.push("<div class='flyer-rgrips' style='width:"+d+"px;'>"),this.$header.find("th").each(function(){var c=b(this),d=c.offset().left+c.get(0).offsetWidth-f;c.css("width",c.width()),a.push("<div style='left:"+d+"px;height:"+e+"px' data-index='"+c.data("index")+"' class='flyer-rgrips-resizer'></div>")}),c.css("width",d),a.push("</div>"),c.before(a.join("")),this.columnResizer()}},b.fn.table=function(a){return this.each(function(){return this.Table=new d(this,a),this})},"object"==typeof flyer&&"function"==typeof flyer.define&&flyer.define("table",function(a,b){return new d(a,b)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a,b)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";var d=function(a,b){return this.init(a,b)},e=["flyer-tree","flyer-tree-root","fa-caret-right","fa-caret-down","fa-folder-o","fa-folder-open-o","flyer-tree-show","flyer-tree-node"];d.DEFAULTS={data:[],url:"",skin:"",click:function(){return!1}},d.DEFAULTS_DATA={name:"Tree",spread:!1,href:"",target:"_blank",childrens:[]},d.prototype={init:function(a,c){this.options=b.extend(!0,{},d.DEFAULTS,c),this.selector=a,this.template(),this.events(),this.__index=""},template:function(){var a=['<div class="'+e[0]+'">',this.recursion(this.options.data,!0,""),"</div>"];this.selector.append(a.join(""))},recursion:function(a,c,e){for(var f,g=['<ul class="flyer-tree-node '+(c?"flyer-tree-show":"")+'">'],h=0,i=a.length;i>h;h++)f=String(e).length>0?e+"."+h:h,a[h]=b.extend({},!0,d.DEFAULTS_DATA,a[h]),g.push("<li>"),g.push('<i class="fa '+(a[h].childrens.length>0?a[h].spread?"fa-caret-down":"fa-caret-right":"")+'"></i>'),g.push('<i class="fa '+(a[h].childrens.length>0?a[h].spread?"fa-folder-open-o":"fa-folder-o":"fa-file-o")+'"></i>'),g.push('<a _index="'+f+'"'+(a[h].href.length>0?'href="'+a[h].href+'" target="'+a[h].target+'"':"")+">"+a[h].name+"</a>"),a[h].childrens.length>0&&g.push(this.recursion(a[h].childrens,a[h].spread,f)),g.push("</li>");return g.push("</ul>"),g.join("")},changeIcon:function(a,c){var d=b(a).parent(),f=d.find("i");c?(f.eq(0).removeClass(e[2]).addClass(e[3]),f.eq(1).removeClass(e[4]).addClass(e[5])):(f.eq(0).removeClass(e[3]).addClass(e[2]),f.eq(1).removeClass(e[5]).addClass(e[4]))},events:function(){var a=this,c=[".flyer-tree",".fa-caret-right",".fa-folder-o",".fa-folder-open-o",".fa-caret-down"];this.selector.find(c[0]).off("click",c.splice(1,4)),this.selector.find(c[0]).on("click",c.splice(1,4),function(c){var d=b(c.target).nextAll("."+e[7]);d.length>0&&(d.hasClass(e[6])?(d.removeClass(e[6]),a.changeIcon(c.target,!1)):(d.addClass(e[6]),a.changeIcon(c.target,!0))),a.stop(c)}),this.selector.find(c[0]).off("click","a"),this.selector.find(c[0]).on("click","a",function(b){a.options.click.call(this,b.target,a.getData(b.target.getAttribute("_index")))})},stop:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getData:function(a){for(var b=String(a).split("."),c=this.options.data[b[0]],d=1,e=b.length;e>d;d++)c=c.childrens[b[d]];return c}},b.fn.tree=function(a){return this.each(function(){return this.tree=new d(this,a),this})},"object"==typeof flyer&&"function"==typeof flyer.define&&flyer.define("tree",function(a,b){return new d(a,b)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a,b)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";var d=function(a,b){return this.init(a,b)};d.DEFAULTS={elem:"flyer-upload-file",text:"",url:"http://172.16.24.243:8081/upload",method:"post",enctype:"multipart/form-data",ext:"",name:"avatar",success:function(){return!1}},d.prototype={init:function(a,c){this.options=b.extend(!0,{},d.DEFAULTS,c),this.selector=a,this.template(),this.events(),this.buildFrame(),this.checkInput()},template:function(){var a=this,b=a.options,c=['<div class="flyer-upload">','<form action="'+b.url+'" enctype="'+b.enctype+'" target="flyer_upload_iframe" method="'+b.method+'">',"</form>",'<button class="flyer-btn flyer-btn-default">','<i class="fa fa-plus-square-o"></i>',"<span>"+this.options.text+"</span>","</button>","</div>"];this.selector.wrap(c.join("")),this.$form=this.selector.parent(),this.$upload=this.$form.parent(),this.$submit=this.$upload.find(".flyer-btn"),this.buildFrame()},buildFrame:function(){0==b("#flyer_upload_iframe").length&&b("body").append('<iframe id="flyer_upload_iframe"  name="flyer_upload_iframe"></iframe>')},checkInput:function(){this.selector.attr("name")||this.selector.attr("name",this.options.name)},events:function(){var a=this,c=a.options;this.$submit.on("click",function(){a.selector.click()}),a.selector.on("change",function(){a.$form.submit();var d=b("#flyer_upload_iframe"),e=setInterval(function(){var b;try{b=d.contents().find("#rpsResult").text()}catch(f){console.info("错误信息:"+f),clearInterval(e)}if(b){clearInterval(e),d.contents().find("body").html("");try{b=JSON.parse(b)}catch(f){return b={},flyer.msg("请对上传接口返回JSON字符")}"function"==typeof c.success&&c.success(b,a.selector)}},50)}),this.selector.val("")}},b.fn.upload=function(a){return this.each(function(){return this.Upload=new d(this,a),this})},"object"==typeof flyer&&"function"==typeof flyer.define&&flyer.define("upload",function(a,b){return new d(a,b)})}),function(a,b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("该插件需要在支持document的渲染环境上.");if(!b)throw new Error("该插件需要在支持加载了jQuery类库的渲染环境上.");return c(a)}:c(a,b)}("undefined"!=typeof window?window:this,jQuery,function(a,b,c){"use strick";var d=function(a,c){var d=this;a.length>1?a.each(function(){d.init(b(this),c)}):d.init(a,c)};d.DEFAULTS={tagName:"pre",title:"Code",height:"auto",encode:!0,about:!0},d.prototype={init:function(a,c){this[0]=a,this.options=b.extend(!0,{},d.DEFAULTS,c),this[0].replaceWith(this.template())},template:function(){var a=["<"+this.options.tagName+' class="codes">',"<h1>",this.options.title,this.options.about?'<a href="#">flyer.code</a>':"","</h1>","<ol>",this.adornContent(),"</ol>","</"+this.options.tagName+">"];return a.join("")},adornContent:function(){var a=this[0].html(),b=[];a=a?a.split("\n"):"";for(var c=0,d=a.length;d>c;c++)this.options.encode&&(a[c]=a[c].replace(/</g,"&lt;").replace(/>/g,"&gt").replace(/'/g,"&apos;").replace(/"/g,"&quot;")),b.push("<li>"+a[c]+"</li>");return b.join("")}},b.fn.codes=function(a){return this.each(function(){return this.codes=new d(this,a),this})},"object"==typeof flyer&&"function"==typeof flyer.define&&flyer.define("codes",function(a,b){return new d(a,b)})});